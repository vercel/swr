import { Callout } from 'nextra-theme-docs'
import Link from 'next/link'

# æ•°æ®è¯·æ±‚

```js
const { data, error } = useSWR(key, fetcher)
```

è¿™æ˜¯ SWR çš„åŸºæœ¬ APIã€‚è¿™é‡Œçš„ `fetcher` æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œå®ƒ **æ¥å—** SWR çš„ **`key`** å¹¶è¿”å›æ•°æ®ã€‚

è¿”å›å€¼å°†ä½œä¸º `data` ä¼ é€’ï¼Œå¦‚æœæŠ›å‡ºé”™è¯¯ï¼Œå°†ä½œä¸º `error` è¢«æ•è·ã€‚

<Callout emoji="ğŸ’¡">
  æ³¨æ„ï¼šå¦‚æœ <code>fetcher</code> æ˜¯<Link href="/docs/global-configuration">å…¨å±€é…ç½®</Link>æä¾›çš„ï¼Œå¯ä»¥ä»å‚æ•°ä¸­å¿½ç•¥ã€‚
</Callout>

## Fetch [#fetch]

ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•åº“æ¥å¤„ç†æ•°æ®è¯·æ±‚ï¼Œæ¯”å¦‚ä¸€ä¸ª `fetch` polyfill [developit/unfetch](https://github.com/developit/unfetch)ï¼š

```js
import fetch from 'unfetch'

const fetcher = url => fetch(url).then(r => r.json())

function App () {
  const { data, error } = useSWR('/api/data', fetcher)
  // ...
}
```

<Callout emoji="ğŸ’¡">
  å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <strong>Next.js</strong>ï¼Œåˆ™ä¸éœ€è¦å¼•å…¥è¿™ä¸ª polyfillï¼š<br/>
  <a target="_blank" rel="noopener" href="https://nextjs.org/blog/next-9-1-7#new-built-in-polyfills-fetch-url-and-objectassign">æ–°çš„å†…ç½® Polyfillsï¼š fetch()ã€URLã€å’ŒObject.assign</a>
</Callout>

## Axios [#axios]

```js
import axios from 'axios'

const fetcher = url => axios.get(url).then(res => res.data)

function App () {
  const { data, error } = useSWR('/api/data', fetcher)
  // ...
}
```

## GraphQL [#graphql]

æˆ–è€…é…åˆç±»ä¼¼ [graphql-request](https://github.com/prisma-labs/graphql-request) çš„åº“ä½¿ç”¨ GraphQLï¼š

```js
import { request } from 'graphql-request'

const fetcher = query => request('/api/graphql', query)

function App () {
  const { data, error } = useSWR(
    `{
      Movie(title: "Inception") {
        releaseDate
        actors {
          name
        }
      }
    }`,
    fetcher
  )
  // ...
}
```

_å¦‚æœè¦æŠŠå˜é‡ä¼ é€’ç»™ GraphQL queryï¼Œè¯·æŸ¥çœ‹ [å¤šå‚æ•°](/docs/arguments)ã€‚_
