import { Callout } from 'nextra-theme-docs'

# API

```js
const { data, error, isLoading, isValidating, mutate } = useSWR(key, fetcher, options)
```

## å‚æ•° [#parameters]

- `key`: è¯·æ±‚çš„å”¯ä¸€ key stringï¼ˆæˆ–è€…æ˜¯ function / array / nullï¼‰ [(è¯¦æƒ…)](/docs/arguments), [ï¼ˆé«˜çº§ç”¨æ³•ï¼‰](/docs/conditional-fetching)
- `fetcher`:ï¼ˆ_å¯é€‰_ï¼‰ä¸€ä¸ªè¯·æ±‚æ•°æ®çš„ Promise è¿”å›å‡½æ•° [ï¼ˆè¯¦æƒ…ï¼‰](/docs/data-fetching)
- `options`:ï¼ˆ_å¯é€‰_ï¼‰è¯¥ SWR hook çš„é€‰é¡¹å¯¹è±¡

## è¿”å›å€¼ [#return-values]

- `data`: é€šè¿‡ `fetcher` ç”¨ç»™å®šçš„ key è·å–çš„æ•°æ®ï¼ˆå¦‚æœªå®Œå…¨åŠ è½½ï¼Œè¿”å› undefinedï¼‰
- `error`: `fetcher` æŠ›å‡ºçš„é”™è¯¯ï¼ˆæˆ–è€…æ˜¯ undefinedï¼‰
- `isLoading`: æ˜¯å¦æœ‰ä¸€ä¸ªæ­£åœ¨è¿›è¡Œä¸­çš„è¯·æ±‚ä¸”å½“å‰æ²¡æœ‰â€œå·²åŠ è½½çš„æ•°æ®â€œã€‚é¢„è®¾æ•°æ®åŠä¹‹å‰çš„æ•°æ®ä¸ä¼šè¢«è§†ä¸ºâ€œå·²åŠ è½½çš„æ•°æ®â€œ 
- `isValidating`: æ˜¯å¦æœ‰è¯·æ±‚æˆ–é‡æ–°éªŒè¯åŠ è½½
- `mutate(data?, options?)`: æ›´æ”¹ç¼“å­˜æ•°æ®çš„å‡½æ•° [ï¼ˆè¯¦æƒ…ï¼‰](/docs/mutation)

æ›´å¤šä¿¡æ¯å¯ä»¥å‚è€ƒ[è¿™é‡Œ](/docs/advanced/understanding).

## é€‰é¡¹ [#options]

- `suspense = false`: å¯ç”¨ React Suspense æ¨¡å¼ [ï¼ˆè¯¦æƒ…ï¼‰](/docs/suspense)
- `fetcher(args)`: fetcher å‡½æ•°
- `revalidateIfStale = true`: å³ä½¿å­˜åœ¨é™ˆæ—§æ•°æ®ï¼Œä¹Ÿè‡ªåŠ¨é‡æ–°éªŒè¯[ï¼ˆè¯¦æƒ…ï¼‰](/docs/revalidation#disable-automatic-revalidations)
- `revalidateOnMount`: åœ¨æŒ‚è½½ç»„ä»¶æ—¶å¯ç”¨æˆ–ç¦ç”¨è‡ªåŠ¨é‡æ–°éªŒè¯ [ï¼ˆè¯¦æƒ…ï¼‰](/docs/revalidation#revalidate-on-mount)
- `revalidateOnFocus = true`: çª—å£èšç„¦æ—¶è‡ªåŠ¨é‡æ–°éªŒè¯ [ï¼ˆè¯¦æƒ…ï¼‰](/docs/revalidation)
- `revalidateOnReconnect = true`: æµè§ˆå™¨æ¢å¤ç½‘ç»œè¿æ¥æ—¶è‡ªåŠ¨é‡æ–°éªŒè¯ï¼ˆé€šè¿‡ `navigator.onLine`ï¼‰ [ï¼ˆè¯¦æƒ…ï¼‰](/docs/revalidation)
- `refreshInterval` [ï¼ˆè¯¦æƒ…ï¼‰](/docs/revalidation):
  - é»˜è®¤ disabled: `refreshInterval = 0`
  - å¦‚æœè®¾ç½®ä¸ºæ•°å­—ï¼Œè½®è¯¢é—´éš”ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
  - å¦‚æœè®¾ç½®ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†æ¥æ”¶æœ€æ–°æ•°æ®ï¼Œå¹¶ä¸”åº”ä»¥æ¯«ç§’ä¸ºå•ä½è¿”å›é—´éš”
- `refreshWhenHidden = false`: çª—å£ä¸å¯è§æ—¶è¿›è¡Œè½®è¯¢ï¼ˆå¦‚æœå¯ç”¨äº† `refreshInterval`ï¼‰
- `refreshWhenOffline = false`: æµè§ˆå™¨ç¦»çº¿æ—¶è½®è¯¢ï¼ˆç”± `navigator.onLine` ç¡®å®šï¼‰
- `shouldRetryOnError = true`: fetcher æœ‰é”™è¯¯æ—¶é‡è¯•
- `dedupingInterval = 2000`: åˆ é™¤ä¸€æ®µæ—¶é—´å†…ç›¸åŒ key çš„é‡å¤è¯·æ±‚ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
- `focusThrottleInterval = 5000`: åœ¨ä¸€æ®µæ—¶é—´å†…åªé‡æ–°éªŒè¯ä¸€æ¬¡ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
- `loadingTimeout = 3000`: è¶…æ—¶è§¦å‘ `onLoadingSlow` äº‹ä»¶ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
- `errorRetryInterval = 5000`: é”™è¯¯é‡è¯•çš„æ—¶é—´é—´éš”ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
- `errorRetryCount`: é”™è¯¯é‡è¯•çš„æœ€å¤§æ¬¡æ•°
- `fallback`: å¤šä¸ªå›é€€æ•°æ®çš„ key-value å¯¹è±¡[ï¼ˆç¤ºä¾‹ï¼‰](/docs/with-nextjs)
- `fallbackData`: æ­¤ hook éœ€è¦è¿”å›çš„åˆå§‹æ•°æ®
- `keepPreviousData = false`: åœ¨æ–°æ•°æ®åŠ è½½å®Œæˆä¹‹å‰ä½¿ç”¨ key ä¸Šä¸€æ¬¡ç¼“å­˜è¿‡çš„æ•°æ® [ï¼ˆè¯¦æƒ…ï¼‰](/docs/advanced/understanding#return-previous-data-for-better-ux)
- `onLoadingSlow(key, config)`: è¯·æ±‚åŠ è½½æ—¶é—´è¿‡é•¿æ—¶çš„å›è°ƒå‡½æ•°ï¼ˆå‚è€ƒ `loadingTimeout`ï¼‰
- `onSuccess(data, key, config)`: è¯·æ±‚æˆåŠŸå®Œæˆæ—¶çš„å›è°ƒå‡½æ•°
- `onError(err, key, config)`: è¯·æ±‚è¿”å›é”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°
- `onErrorRetry(err, key, config, revalidate, revalidateOps)`: é”™è¯¯é‡è¯•çš„å¤„ç†å‡½æ•°
- `onDiscarded(key)`: è¯·æ±‚ç”±äºç«æ€æ¡ä»¶è€Œè¢«å¿½ç•¥æ—¶çš„å›è°ƒå‡½æ•°
- `compare(a, b)`: æ¯”è¾ƒå‡½æ•°ï¼Œç”¨æ¥æ£€æµ‹è¿”å›çš„æ•°æ®ä½•æ—¶å·²æ›´æ”¹ï¼Œä»¥é˜²æ­¢ä¼ªé€ çš„é‡æ–°æ¸²æŸ“ã€‚é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨ [stable-hash](https://github.com/shuding/stable-hash)ã€‚
- `isPaused()`: ç”¨äºæš‚åœæ‰€æœ‰æ•°æ®è¯·æ±‚ï¼Œå¦‚æœè¿”å›å€¼ä¸º `true`ï¼Œè¯·æ±‚çš„æ•°æ®å’Œé”™è¯¯éƒ½ä¼šè¢«å¿½ç•¥ã€‚é»˜è®¤è¿”å›å€¼ä¸º `false`ã€‚
- `use`: ä¸­é—´ä»¶å‡½æ•°æ•°ç»„ [ï¼ˆè¯¦æƒ…ï¼‰](/docs/middleware)

<Callout emoji="ğŸ’¡">
  ç½‘ç»œè¾ƒæ…¢ï¼ˆ2G, {'<='} 70Kbpsï¼‰æ—¶ï¼Œ é»˜è®¤æƒ…å†µä¸‹ <code>errorRetryInterval</code> ä¸º 10sï¼Œ {' '}
  <code>loadingTimeout</code> ä¸º 5sã€‚
</Callout>

ä½ è¿˜å¯ä»¥ä½¿ç”¨ [å…¨å±€é…ç½®](/docs/global-configuration) æ¥æä¾›é»˜è®¤é€‰é¡¹ã€‚
